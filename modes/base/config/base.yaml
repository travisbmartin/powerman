#config_version=5

mode:
  start_events: ball_starting
  priority: 100

sound_player:
  mode_base_started:
    Instrumental_track:
      action: play
      loops: -1
  R_Pop_hit:
    pop_bumpers:
      action: play
      loops: 0
  L_Pop_hit:
    pop_bumpers:
      action: play
      loops: 0
  M_Pop_hit:
    pop_bumpers:
      action: play
      loops: 0
  right_return_shot_hit:
    targets:
      action: play
      loops: 0
  right_25K_shot_hit:
    targets:
      action: play
      loops: 0
  right_rollover_shot_hit:
    targets:
      action: play
      loops: 0
  left_return_shot_hit:
    targets:
      action: play
      loops: 0
  left_25K_shot_hit:
    targets:
      action: play
      loops: 0
  left_rollover_shot_hit:
    targets:
      action: play
      loops: 0
  drop_target_shot_hit:
    targets:
      action: play
      loops: 0
  load_chamber_shot_hit:
    targets:
      action: play
      loops: 0
  eject_chamber_shot_hit:
    targets:
      action: play
      loops: 0
  spider_shot_hit:
    targets:
      action: play
      loops: 0
  album_shot_hit:
    targets:
      action: play
      loops: 0
  PM5K_shot_hit:
    targets:
      action: play
      loops: 0

shots:
  R_Pop:
    switch: s_right_bumper
  L_Pop:
    switch: s_left_bumper
  M_Pop:
    switch: s_middle_bumper
  right_return_shot:
    switch: s_right_return_lane
    show_tokens:
      light: l_right_return
    profile: r_cycle_profile
  right_25K_shot:
    switch: s_right_25K_target
    show_tokens:
      light: l_right_25K_target
    profile: r_cycle_profile
  right_rollover_shot:
    switch: s_right_rollover
    show_tokens:
      light: l_right_rollover
    profile: r_cycle_profile 
  left_return_shot:
    switch: s_left_return_lane
    show_tokens:
      light: l_left_return
    profile: l_cycle_profile
  left_25K_shot:
    switch: s_left_25K_target
    show_tokens:
      light: l_left_25K_target
    profile: l_cycle_profile
  left_rollover_shot:
    switch: s_left_rollover
    show_tokens:
      light: l_left_rollover
    profile: l_cycle_profile
  drop_target_shot:
    switch: s_ramp_drop_target
    show_tokens:
      light: l_ramp_100K
  load_chamber_shot:
    switch: s_load_chamber
  eject_chamber_shot:
    switch: s_eject_chamber
  spider_shot:
    switch: s_center_target
  album_shot:
    switch: s_album_target
  PM5K_shot:
    switch: s_PM5K_target
  R_Saucer_shot:
    switch: s_right_saucer
#  s_ramp_drop_target:
#  s_right_slingshot:
#  s_left_slingshot:
#  s_top_lane_R:
#  s_top_lane_C:
#  s_top_lane_L:
#  s_left_outlane:
#  s_right_outlane:
#  s_top_25K_lane:
#  s_top_50K_lane:

shot_profiles:
  l_cycle_profile:
    states:
      - name: unlit  # step 1
        show: off
      - name: flashing  # step 2
        show: flash
      - name: lit  # step 3
        show: on
    loop: yes
  r_cycle_profile:
    states:
      - name: unlit  # step 1
        show: off
      - name: flashing  # step 2
        show: flash
      - name: lit  # step 3
        show: on
    loop: yes

slide_player:
  mode_base_started: score_slide
  player_added:
    new_player_slide:
      priority: 1000
  extra_ball_Jukebox_01_awarded:
    extra_ball_slide:
      priority: 1000
  extra_ball_Jukebox_02_awarded:
    extra_ball_slide:
      priority: 1000
            
slides:
  score_slide:
    widgets:
      - type: text
        text: (score)
        number_grouping: true
        min_digits: 2
        font_size: 20
        y: 18
      - type: text
        text: PLAYER (number)
        y: 0
        x: 10
        font_size: 10
        anchor_x: left
        anchor_y: bottom
      - type: text
        text: BALL (ball)
        y: 0
        x: right-10
        anchor_x: right
        anchor_y: bottom
        font_size: 10
      - type: video
        video: radar
        volume: 0
        auto_play: true
        end_behavior: loop
  new_player_slide:
    expire: 1s
    widgets:
      - type: text
        text: PLAYER (num) ADDED
        font_size: 10
      - type: video
        video: radar
        volume: 0  
        auto_play: true
        end_behavior: stop
  extra_ball_slide:
    expire: 3s
    widgets:
      - type: text
        text: EXTRA BALL
        font_size: 20

counters:
  lb_Right_Pop_count:
    count_events: R_Pop_hit
    starting_count: 10
    count_complete_value: 0
    count_interval: 1
    direction: down
    persist_state: false
    events_when_complete: Super_Pop_R_Ready
    reset_on_complete: false
  lb_Left_Pop_count:
    count_events: L_Pop_hit
    starting_count: 10
    count_complete_value: 0
    direction: down
    count_interval: 1
    persist_state: false
    events_when_complete: Super_Pop_L_Ready
    reset_on_complete: false
  lb_Mid_Pop_count:
    count_events: M_Pop_hit
    starting_count: 10
    count_complete_value: 0
    direction: down
    count_interval: 1
    persist_state: false
    events_when_complete: Super_Pop_M_Ready
    reset_on_complete: false
  lb_Spider_count:
    count_events: spider_shot_hit
    starting_count: 0
    count_complete_value: 1
    direction: up
    count_interval: 1
    persist_state: false
    events_when_complete: Spider_Ready
    reset_on_complete: true
    disable_on_complete: false
  lb_Album_count:
    count_events: album_shot_hit
    starting_count: 0
    count_complete_value: 1
    direction: up
    count_interval: 1
    persist_state: false
    events_when_complete: Album_Ready
    reset_on_complete: true
    disable_on_complete: false
  lb_PM5K_count:
    count_events: PM5K_shot_hit
    starting_count: 0
    count_complete_value: 1
    direction: up
    count_interval: 1
    persist_state: false
    events_when_complete: PM5K_Ready
    reset_on_complete: true
    disable_on_complete: false
  lb_Skulls_count:
    count_events: Skull_lanes_done{count>1}
    starting_count: 0
    count_complete_value: 1
    direction: up
    count_interval: 1
    persist_state: false
    events_when_complete: Skulls_Ready
    reset_on_complete: true
    disable_on_complete: false
  lb_Jukebox_count:
    count_events: Jukebox_Start
    starting_count: 0
    direction: up
    count_interval: 1
    persist_state: true

accruals:
  lb_Super_Pops_Enable:
    events:
      - Super_Pop_R_Ready
      - Super_Pop_M_Ready
      - Super_Pop_L_Ready
    events_when_complete: Super_Pops_Go
  lb_Jukebox_Enable:
    events:
      - Spider_Ready
      - Album_Ready
      - PM5K_Ready
      - Skulls_Ready
    events_when_complete: Jukebox_Go
    reset_on_complete: true
    disable_on_complete: false

sequences:
  lb_Jukebox_Start:
    events:
      - Jukebox_Go
      - R_Saucer_shot_hit
    events_when_complete: Jukebox_Start
    reset_on_complete: true
    disable_on_complete: false
  lb_Jukebox_EB_01:
    events:
      - counter_lb_Jukebox_count_hit{count==2}
      - spider_shot_hit
    events_when_complete: Award_EB_01
    reset_on_complete: true
    disable_on_complete: true
  lb_Jukebox_EB_02:
    events:
      - counter_lb_Jukebox_count_hit{count==9}
      - spider_shot_hit
    events_when_complete: Award_EB_02
    reset_on_complete: true
    disable_on_complete: true
  lb_Jukebox_Special_01:
    events:
      - counter_lb_Jukebox_count_hit{count==16}
      - spider_shot_hit
    events_when_complete: special
    reset_on_complete: true
    disable_on_complete: true

variable_player:
  left_return_shot_hit:
    score: 1000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  left_25K_shot_hit:
    score: 25000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  left_rollover_shot_hit:
    score: 5000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  right_return_shot_hit:
    score: 1000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  right_25K_target_shot_hit:
    score: 25000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  right_rollover_shot_hit:
    score: 5000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  s_load_chamber:
    score: 100000 * current_player.pf_multiplier * current_player.pf_MBall_multiplier
  Jukebox_Go:
    pf_Jukebox_Control:
      int: 1
      action: set
    pf_Jukebox_Hits: 1
  spider_shot_hit:
    pf_spider_bonus: 1

#  s_eject_chamber:
#  s_ramp_drop_target:
#  s_right_slingshot:
#  s_left_slingshot:
#  s_top_lane_R:
#  s_top_lane_C:
#  s_top_lane_L:
#  s_left_outlane:
#  s_right_outlane:
#  s_top_25K_lane:
#  s_top_50K_lane:
#  s_center_target:
#  s_album_target:
#  s_PM5K_target:


extra_balls:
  Jukebox_01:
    enabled: true
    award_events: Award_EB_01
  Jukebox_02:
    enabled: true
    award_events: Award_EB_02

show_player:
  Award_EB_01:
    Rock_Again_On:
      show_tokens:
        lights: Rock_Again

  Award_EB_02:
    Rock_Again_On:
      show_tokens:
        lights: Rock_Again

  ball_ended:
    Rock_Again_Off:
      show_tokens:
        lights: Rock_Again